<!DOCTYPE html>
<html ng-app="yvoiceApp">
<head>
  <meta charset="UTF-8">
  <title>MYukkuriVoice</title>
  <link rel="stylesheet" href="node_modules/photon/dist/css/photon.css">
  <link rel="stylesheet" href="node_modules/intro.js/minified/introjs.min.css">
  <link rel="stylesheet" href="css/range.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="node_modules/photon/dist/template-app/js/menu.js" charset="utf-8"></script>
  <script src="node_modules/angular/angular.min.js"></script>
  <script src="node_modules/intro.js/minified/intro.min.js"></script>
  <script src="js/models.js"></script>
  <script src="js/services.js"></script>
  <script src="js/app.js"></script>
</head>
<body>
<div class="window" ng-controller="MainController as ctrl" ng-init="init()">

<header class="toolbar toolbar-header">
  <div class="toolbar-actions">
    <div class="btn-group" id="btn-group-audio">
      <button class="btn btn-large btn-default" id="play" ng-click="ctrl.play()">
        <span class="icon icon-play"></span>voice play
      </button>
      <button class="btn btn-large btn-default" id="stop" ng-click="ctrl.stop()">
        <span class="icon icon-stop"></span>voice stop
      </button>
      <button class="btn btn-large btn-default" id="record" ng-click="ctrl.record()">
        <span class="icon icon-record"></span>record voice
      </button>
    </div>
    <div class="btn-group pull-right">
      <button class="btn btn-large btn-default" id="shortcut" ng-click="ctrl.shortcut()">
        <span class="icon icon-help-circled"></span>shortcut help
      </button>
      <button class="btn btn-large btn-default" id="tutorial" ng-click="ctrl.tutorial()">
        <span class="icon icon-help-circled"></span>{{display=="main"? "run basic tutorial": "run settigns tutorial"}}
      </button>
    </div>
  </div>
</header>

<div class="window-content">
<div class="pane-group">
  <div class="pane-sm sidebar">
    <ul class="list-group" id="sidebar-items">
      <li class="list-group-header">
        <input class="form-control" type="text" ng-model='filter_text.name' placeholder="Search Configuration">
      </li>
      <li class="list-group-item" ng-repeat="yvoice_item in yvoice_list | filter:filter_text track by yvoice_item.id" ng-class="{active:yvoice_item.id == yvoice.id}">
        <div class="media-body" ng-click="ctrl.select($index)">
          <strong>{{ $index }}:{{ yvoice_item.name }}</strong>
          <div class="btn-group pull-right">
            <button class="btn btn-default" id="copy" ng-click="ctrl.copy($index)">
              <span class="icon icon-docs"></span>
            </button>
            <button class="btn btn-default" id="minus" ng-click="ctrl.minus($index)" ng-if="yvoice_list.length > 1">
              <span class="icon icon-minus-squared"></span>
            </button>
          </div>
        </div>
      </li>
      <li class="list-group-footer">
        <div class="btn-group pull-right">
          <button class="btn btn-large btn-default pull-right" id="plus" ng-click="ctrl.plus()">
            <span class="icon icon-plus-squared"></span>add config
          </button>
          <button class="btn btn-large btn-default" id="save" ng-click="ctrl.save()">
            <span class="icon icon-install"></span>save config
          </button>
        </div>
      </li>
    </ul>
  </div>

  <div class="pane" ng-if="display == 'main'">
    <form>
      <div class="form-group">
        <!-- <label>name</label> -->
        <input type="text" class="form-control" id="name" ng-model="yvoice.name" placeholder="name">
      </div>

      <div class="form-group">
        <!-- <label>Source</label> -->
        <textarea class="form-control" id="source" rows="5" ng-model="yinput.source" placeholder="source text"></textarea>
      </div>

      <div class="form-inline form-group btn-group-convert">
        <button class="btn btn-large btn-default" id="encode" ng-click="ctrl.encode()">
          <span class="icon icon-down-bold"></span>encode input
        </button>
        <button class="btn btn-large btn-default" id="clear" ng-click="ctrl.clear()">
          <span class="icon icon-trash"></span>clear input
        </button>
      </div>

      <div class="form-group">
        <!-- <label>Encoded</label> -->
        <textarea class="form-control" id="encoded" rows="5" ng-model="yinput.encoded" placeholder="encoded text"></textarea>
      </div>

      <div class="form-inline form-group">
        <select class="form-control" ng-model="yvoice.phont" id="phont">
          <option ng-repeat="v in phont_list" ng-value="v.id">{{v.name}}</option>
        </select>
        <!--
        <select ng-model="yvoice.effect">
          <option ng-repeat="v in effect_list" ng-value="v.id">{{v.name}}</option>
        </select>
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="yvoice.intonation">抑揚
          </label>
        </div>
        -->
      </div>

      <div class="form-inline form-group">
        <input type="range" min="50" max="300" id="speed" ng-model="yvoice.speed">
        <label>speed:{{yvoice.speed}}</label>
      </div>
      <!--
      <div class="form-inline form-group">
        <input type="range" max="300" ng-model="yvoice.volume">
        <label>音量:{{yvoice.volume}}</label>
      </div>
      -->

      <div class="form-group">
        <button class="btn btn-large btn-default pull-right switch-view" id="switch-settings-view" ng-click="ctrl.switch_settings_view()">
          <span class="icon icon-shuffle"></span>switch to settings view
        </button>
      </div>
    </form>

    <table class="table-striped message-list">
      <thead>
        <tr>
          <th class="message-item-created">time</th>
          <th class="message-item-type">type</th>
          <th class="message-item-body">message</th>
        </tr>
      </thead>
      <tbody>
        <tr class="message-item" ng-repeat="message in message_list track by $index" ng-class="{error:message.type=='error', syserror:message.type=='syserror'}">
          <td class="message-item-created">{{message.created | date: 'yyyy/M/d hh:mm:ss'}}</td>
          <td class="message-item-type">{{message.type}}</td>
          <td class="message-item-body">{{message.body}}</td>
        </tr>
      </tbody>
    </table>
  </div><!-- main pane -->

  <div class="pane" ng-if="display == 'settings'">
    <form>
      <div class="form-group">
        <!-- <label>name</label> -->
        <input type="text" class="form-control" id="name" ng-model="yvoice.name" placeholder="name">
      </div>

      <div class="source_write_box" id="source_write_box">
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="yvoice.source_write">write text file at recording
          </label>
        </div>
      </div>

      <div class="seq_write_box" id="seq_write_box">
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="yvoice.seq_write">use numbering file
          </label>
        </div>
        <div class="form-group" ng-if="yvoice.seq_write">
          <!-- <label>file name prefix</label> -->
          <input type="text" class="form-control" id="prefix" ng-model="yvoice.seq_write_options.prefix" placeholder="file name prefix">
        </div>
        <div class="form-group" ng-if="yvoice.seq_write">
          <button class="btn btn-large btn-default" id="directory" ng-click="ctrl.directory()">
            <span class="icon icon-folder"></span>directory select
          </button>
          dir: {{yvoice.seq_write_options.dir || 'use home directory if not selected'}}
        </div>
      </div>

      <div class="form-group">
        <button class="btn btn-large btn-default pull-right switch-view" id="switch-main-view" ng-click="ctrl.switch_main_view()">
          <span class="icon icon-shuffle"></span>switch to main view
        </button>
      </div>
    </form>

    <table class="table-striped message-list">
      <thead>
        <tr>
          <th class="message-item-created">time</th>
          <th class="message-item-type">type</th>
          <th class="message-item-body">message</th>
        </tr>
      </thead>
      <tbody>
        <tr class="message-item" ng-repeat="message in message_list track by $index" ng-class="{error:message.type=='error', syserror:message.type=='syserror'}">
          <td class="message-item-created">{{message.created | date: 'yyyy/M/d hh:mm:ss'}}</td>
          <td class="message-item-type">{{message.type}}</td>
          <td class="message-item-body">{{message.body}}</td>
        </tr>
      </tbody>
    </table>
  </div><!-- settings pane -->

</div><!-- page-group -->
</div><!-- window-content -->

</div><!-- window -->
</body>
</html>

